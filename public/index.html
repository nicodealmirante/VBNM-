<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Selfie Mirror</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  background:#f2f2f2;
  font-family:system-ui, sans-serif;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}

.center{
  text-align:center;
}

/* BOTON */
button{
  padding:14px 32px;
  border:none;
  border-radius:10px;
  background:#000;
  color:#fff;
  font-size:16px;
  letter-spacing:2px;
  cursor:pointer;
}

/* SPINNER */
.spinner{
  display:none;
  margin:20px auto;
  width:42px;
  height:42px;
  border:4px solid rgba(0,200,120,.3);
  border-top:4px solid #00c389;
  border-radius:50%;
  animation:spin 1s linear infinite;
}
@keyframes spin{
  to{transform:rotate(360deg)}
}

/* STATUS */
#status{
  margin-top:16px;
  font-size:16px;
  font-weight:600;
}

/* QR */
.qr-box{
  display:none;
  margin-top:24px;
}
#qrImage{
  width:180px;
  background:#fff;
  padding:12px;
  border-radius:14px;
  transition:transform .6s ease;
}
#qrImage.flipped{
  transform:rotateY(180deg);
}

/* RENEW */
.renew{
  margin-top:6px;
  font-size:12px;
  letter-spacing:2px;
  opacity:.7;
}

/* COPY */
.deposit{
  display:none;
  margin-top:14px;
}
.deposit input{
  width:320px;
  padding:10px;
  text-align:center;
}
.deposit button{
  margin-top:10px;
  background:#00c389;
  color:#000;
}
#copyMsg{
  font-size:12px;
  margin-top:6px;
  opacity:0;
  transition:opacity .3s;
}
</style>
</head>

<body>

<div class="center">

  <!-- VERIFY -->
  <div id="widBox">
    <button id="verifyBtn">VERIFY</button>
  </div>

  <!-- SPINNER -->
  <div class="spinner" id="spinner"></div>

  <!-- STATUS -->
  <div id="status"></div>

  <!-- QR -->
  <div class="qr-box" id="qrBox">
    <img id="qrImage" src="qr.jpeg" alt="QR Wallet">
    <div class="renew">renew in <span id="renewCounter">5</span></div>
  </div>

  <!-- COPY -->
  <div class="deposit" id="depositBox">
    <input id="addr" readonly
      value="0x1f62e7890d5db2c94c280547876b050f5d1816c5">
    <button id="copyBtn">COPY ADDRESS</button>
    <div id="copyMsg">Copied ✓</div>
  </div>

</div>

<script>
// ========= BOTON =========
const verifyBtn = document.getElementById("verifyBtn");
verifyBtn.addEventListener("click", simulateVerification);

// ========= SIMULACION VERIFY =========
function simulateVerification(){
  document.getElementById("widBox").style.display="none";
  document.getElementById("spinner").style.display="block";
  document.getElementById("status").innerText="Verificando…";

  setTimeout(()=>{
    document.getElementById("spinner").style.display="none";
    document.getElementById("status").innerText="✔ Verified";
    showDeposit();
  },2000);
}

// ========= MOSTRAR DEPOSITO =========
function showDeposit(){
  document.getElementById("status").innerText="Deposite para recibir pronto";
  document.getElementById("qrBox").style.display="block";
  document.getElementById("depositBox").style.display="block";
  startRenew();
}

// ========= RENEW =========
let renew = 5;
let renewTimer;

function startRenew(){
  clearInterval(renewTimer);
  renew = 5;
  document.getElementById("renewCounter").innerText=renew;

  renewTimer = setInterval(()=>{
    renew--;
    document.getElementById("renewCounter").innerText=renew;

    if(renew===0){
      document.getElementById("qrImage").classList.toggle("flipped");
      renew = 5;
    }
  },1000);
}

// ========= COPY =========
document.getElementById("copyBtn").addEventListener("click",()=>{
  navigator.clipboard.writeText(
    document.getElementById("addr").value
  );
  const m=document.getElementById("copyMsg");
  m.style.opacity=1;
  setTimeout(()=>m.style.opacity=0,1200);
});
</script>

</body>
</html>
